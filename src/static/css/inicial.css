:root{
  --ist-purple:#552789;
  --ist-purple-dk:#3e1a66;
  --muted:#8b86a3;
  --chip-bg:#f7f2ff;

  /* Estados */
  --ok:#2ecc71;
  --warn:#f1c40f;
  --risk:#e74c3c;
  --soft:#f4f2fb;
}

.ist-navbar{ background: var(--ist-purple-dk); }
.ist-navbar .navbar-brand{ display:inline-flex; align-items:center; gap:.5rem; padding:.25rem 0; }
.ist-navbar .navbar-brand img{ height:36px; display:block; }
.ist-navbar .nav-link{ color:#fff !important; }
.ist-navbar .nav-link:hover{ color:#f2e9ff !important; }

/* Badges factores */
.badge-yes{ background:#d1f7c4; color:#1d7a2e; }
.badge-no { background:#ffe3e8; color:#b70a3c; }
.badge-na { background:#eee;    color:#666; }

/* Fichas (target = botón) */
.card-ficha{ border-left:5px solid var(--ist-purple); transition: transform .12s ease, box-shadow .12s ease; cursor:pointer; }
.card-ficha .title{ color:var(--ist-purple); }
.card-ficha:hover{ transform: translateY(-2px); box-shadow:0 8px 18px rgba(0,0,0,.12) !important; }
.chip{
  display:inline-block; font-size:.8rem; background:var(--chip-bg);
  color:var(--ist-purple); border-radius:16px; padding:.25rem .5rem; margin-right:.25rem;
}

/* Offcanvas Detalle */
.offcanvas .pill{
  display:inline-flex; align-items:center; gap:.35rem;
  background:var(--soft); border:1px solid #e8e6f2; color:#333; padding:.2rem .5rem; border-radius:999px; font-size:.8rem;
}
.factor-row{
  display:grid; grid-template-columns: 1fr auto; align-items:center;
  gap:.5rem; padding:.4rem .6rem; border:1px solid #eee; border-radius:.5rem; margin:.35rem 0; background:#fff;
}
.factor-row .meter{
  display:inline-flex; align-items:center; gap:.4rem; font-size:.8rem;
}
.m-dot{ width:.6rem; height:.6rem; border-radius:50%; display:inline-block; }
.m-ok   { background:var(--ok); }
.m-warn { background:var(--warn); }
.m-risk { background:var(--risk); }

/* Resultado global */
.alert-success{ background:#eafaf0; border-color:#d8f5e3; }
.alert-danger { background:#fdecea; border-color:#f7d4d0; }
.alert-primary{ background:#eef2ff; border-color:#dbe1ff; }

/* Panel derecho: Cuestionarios por área */
#areasList .area-block{
  border:1px solid #eee; border-radius:.75rem; padding:.75rem; background:#fff; margin-bottom:.75rem;
}
#areasList .area-head{
  display:flex; justify-content:space-between; align-items:center; gap:.5rem;
}
.status-pill{
  display:inline-flex; align-items:center; gap:.35rem; border-radius:999px; padding:.15rem .5rem; font-size:.75rem; font-weight:600;
  border:1px solid transparent;
}
.status-vigente{ background:rgba(46,204,113,.12); color:var(--ok); border-color:rgba(46,204,113,.25); }
.status-vencido{ background:rgba(231,76,60,.11); color:var(--risk); border-color:rgba(231,76,60,.25); }
.status-proximo{ background:rgba(241,196,15,.12); color:var(--warn); border-color:rgba(241,196,15,.25); }

#areasList .puesto-btn{
  width:100%; text-align:left; background:#faf9ff; border:1px solid #eee; border-radius:.5rem; padding:.5rem .65rem;
  display:flex; justify-content:space-between; align-items:center; gap:.5rem;
}
#areasList .puesto-btn:hover{ background:#f3f1ff; }
#areasList .person-row{
  display:flex; justify-content:space-between; align-items:center; padding:.35rem .25rem; border-bottom:1px dashed #eee; font-size:.95rem;
}
#areasList .person-row:last-child{ border-bottom:0; }

/* Botones/tiles de hoja avanzada en detalle */
.adv-tile{
  display:flex; flex-direction:column; gap:.25rem; padding:.5rem .6rem; border:1px solid #eee; border-radius:.5rem; background:#fff;
}
.adv-tile .h-name{ font-weight:700; color:#333; }
.adv-tile .h-sheet{ font-size:.8rem; color:var(--muted); }
.adv-tile .h-metric{ font-size:.85rem; }
.hl-ok   { background: linear-gradient(0deg, rgba(46,204,113,.06), rgba(46,204,113,.06)); border-color: rgba(46,204,113,.25); }
.hl-warn { background: linear-gradient(0deg, rgba(241,196,15,.08), rgba(241,196,15,.08)); border-color: rgba(241,196,15,.25); }
.hl-risk { background: linear-gradient(0deg, rgba(231,76,60,.08), rgba(231,76,60,.08)); border-color: rgba(231,76,60,.28); }
