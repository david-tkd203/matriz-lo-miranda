:root{
  --ist-purple:#552789;
  --ist-purple-dk:#3e1a66;
  --muted:#8b86a3;
  --chip-bg:#f7f2ff;
  --border:#e8e6f2;
}

.ist-navbar{ background: var(--ist-purple-dk); }
.ist-navbar .navbar-brand{ display:inline-flex; align-items:center; gap:.5rem; padding:.25rem 0; }
.ist-navbar .navbar-brand img{ height:36px; display:block; }
.ist-navbar .nav-link{ color:#fff !important; }
.ist-navbar .nav-link:hover{ color:#f2e9ff !important; }

/* Fichas 1 por fila */
#cardsWrap .col-12{ width: 100%; }

/* Tarjeta */
.card-ficha{ border-left:6px solid var(--ist-purple); }
.card-ficha .title{ color:var(--ist-purple); margin-bottom:.25rem; }
.card-ficha .chip{
  display:inline-block; font-size:.8rem; background:var(--chip-bg);
  color:var(--ist-purple); border-radius:16px; padding:.25rem .5rem; margin-right:.25rem;
}

/* Badges factores (mejor wrap) */
.badges-wrap{ display:flex; flex-wrap:wrap; gap:.35rem .35rem; }
.badge-yes{ background:#d1f7c4; color:#1d7a2e; }
.badge-no { background:#ffe3e8; color:#b70a3c; }
.badge-na { background:#eee;    color:#666; }
.badge{ white-space:normal; }

/* Offcanvas detalle */
.offcanvas .pill{
  display:inline-flex; align-items:center; gap:.35rem;
  background:#f7f2ff; color:var(--ist-purple); border:1px solid var(--border);
  border-radius:999px; padding:.25rem .6rem; font-size:.85rem;
}
.offcanvas .factor-row{
  display:flex; align-items:center; justify-content:space-between;
  border-bottom:1px dashed var(--border); padding:.35rem 0;
}
.offcanvas .mmc-alert .pill.warn{
  background:#fff4e5; color:#a35a00; border-color:#ffd9a8;
}

/* Bottom header sticky (anti scroll infinito) */
.bottom-sticky{
  position: sticky; bottom: 0; z-index: 5;
}

/* Panel lateral: lista por Ã¡rea (colapsables) */
.area-item{ border:1px solid var(--border); border-radius:.5rem; margin-bottom:.5rem; }
.area-item .area-header{
  display:flex; align-items:center; justify-content:space-between;
  background:#faf9ff; padding:.5rem .75rem; border-bottom:1px solid var(--border); cursor:pointer;
}
.area-item .badge-vig{ background:#d1f7c4; color:#1d7a2e; }
.area-item .badge-ven{ background:#ffe3e8; color:#b70a3c; }
.area-item .puesto{
  border-bottom:1px dashed var(--border); padding:.4rem .75rem; display:flex; justify-content:space-between; align-items:center;
}
.area-item .puesto:last-child{ border-bottom:0; }
.area-item .person{
  padding:.25rem .75rem .5rem 2rem; display:flex; justify-content:space-between; align-items:center; font-size:.9rem;
}
.area-item .person .tag{
  border-radius:999px; padding:.1rem .5rem; border:1px solid var(--border);
}
